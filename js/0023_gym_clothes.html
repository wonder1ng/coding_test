<!DOCTYPE html>
<html lang="ko">
  <head>
    <title>체육복</title>
    <script>
      // https://school.programmers.co.kr/learn/courses/30/lessons/42862?language=javascript
      // 내 풀이
      // 시도 - 1: 성공
      // 배운 점: 정렬을 하자. 알고리즘을 제대로 공부할 필요가 있는 듯.
      // 의도: 여벌 체육복 있지만 도난당한 학생 제외 시킨 후 정렬하여 하나씩 빌려줌
      function solution(n, lost, reserve) {
        let reserveRest = reserve.filter((v) => !lost.includes(v)).sort();
        let lostRest = lost
          .filter((v) => !reserve.includes(v))
          .sort()
          .filter((v) => {
            if (reserveRest.includes(v - 1)) {
              delete reserveRest[reserveRest.indexOf(v - 1)];
              return false;
            } else if (reserveRest.includes(v + 1)) {
              delete reserveRest[reserveRest.indexOf(v + 1)];
              return false;
            } else return true;
          });
        return n - lostRest.length;
      }
      // 타인 풀이: 미기재
      // ChatGPT 풀이
      // 배운 점: Set은 빠르다
      function solution(n, lost, reserve) {
        const lostSet = new Set(lost); // 도난당한 학생들
        const reserveSet = new Set(reserve); // 여벌 체육복을 가진 학생들

        // 여벌 체육복을 가진 학생이 도난당한 경우 처리
        reserveSet.forEach((student) => {
          if (lostSet.has(student)) {
            lostSet.delete(student); // 도난당한 학생 목록에서 제거
            reserveSet.delete(student); // 여벌 체육복을 가진 학생 목록에서 제거
          }
        });

        // 체육복을 빌려줄 수 있는 학생 찾기
        reserveSet.forEach((student) => {
          if (lostSet.has(student - 1)) {
            lostSet.delete(student - 1); // 앞번호 학생에게 체육복 빌려줌
          } else if (lostSet.has(student + 1)) {
            lostSet.delete(student + 1); // 뒷번호 학생에게 체육복 빌려줌
          }
        });

        // 수업을 들을 수 있는 학생은 전체 학생 수에서 여전히 체육복을 빌리지 못한 학생들을 제외한 나머지
        return n - lostSet.size;
      }
    </script>
  </head>
  <body></body>
</html>
